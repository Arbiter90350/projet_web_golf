# Exemple de configuration .env (à copier en .env)
# ATTENTION: ne JAMAIS committer des secrets réels en production.

# --- Base de données MongoDB (Docker) ---
MONGO_INITDB_ROOT_USERNAME=admin
MONGO_INITDB_ROOT_PASSWORD=change_me
MONGO_INITDB_DATABASE=fairway

# --- Backend ---
JWT_SECRET=change_me_super_secret
NODE_ENV=development
PORT=5000
FRONTEND_URL=http://localhost

# Niveau de log (dev: debug, prod: info)
LOG_LEVEL=debug

# Fait confiance au proxy (ex: Nginx) pour récupérer la bonne IP client
# Mettre à 1 en production derrière Nginx/Reverse proxy (recommandé pour le rate limiting)
TRUST_PROXY=0

# Origines CORS autorisées (séparées par des virgules). Par défaut utilise FRONTEND_URL.
# Exemple: CORS_ORIGINS=http://localhost:5173,https://golf-rougemont.com
CORS_ORIGINS=

# --- Rate Limiting (valeurs par défaut si non définies) ---
# Global: max requêtes par IP par fenêtre (défaut 300)
RL_GLOBAL_MAX=300
# Global: taille de fenêtre en minutes (défaut 1)
RL_GLOBAL_WINDOW_MIN=1

# Auth (login/reset): max tentatives (défaut 10)
RL_AUTH_MAX=10
# Auth: fenêtre en minutes (défaut 15)
RL_AUTH_WINDOW_MIN=15

# Forgot-password: max tentatives (défaut 5)
RL_FORGOT_MAX=5
# Forgot-password: fenêtre en minutes (défaut 15)
RL_FORGOT_WINDOW_MIN=15

# Register: max tentatives (défaut 5)
RL_REGISTER_MAX=5
# Register: fenêtre en minutes (défaut 60)
RL_REGISTER_WINDOW_MIN=60

# Resend verification: max tentatives (défaut 5)
RL_VERIFY_MAX=5
# Resend verification: fenêtre en minutes (défaut 30)
RL_VERIFY_WINDOW_MIN=30

# Connexion Mongo pour l'API (Docker)
# Utilise l'utilisateur root créé par l'init Mongo (authSource=admin)
MONGO_URI=mongodb://admin:change_me@database:27017/fairway?authSource=admin

# Connexion Mongo pour l'API (hors Docker, local)
# MONGO_URI=mongodb://localhost:27017/fairway

# --- Frontend ---
# Toujours inclure le préfixe /api/v1
VITE_API_URL=http://localhost:5000/api/v1

# --- Email (SendGrid) ---
# Clé API SendGrid (variable secrète)
SENDGRID_API_KEY=
# Adresse d'expédition (utilisée aussi côté SMTP)
# ex: "Golf Rougemont <noreply@golf-rougemont.com>"
EMAIL_FROM=

# --- Email SMTP (OVH Exchange) ---
# Utiliser SMTP comme fournisseur par défaut
EMAIL_PROVIDER=smtp
# Hôte SMTP OVH Exchange
SMTP_HOST=ex5.mail.ovh.net
# Port STARTTLS
SMTP_PORT=587
# Compte authentifié (boîte aux lettres)
SMTP_USER=info@golf-rougemont.com
# Mot de passe de la boîte (NE PAS COMMITTER)
SMTP_PASSWORD=
